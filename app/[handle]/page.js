import Link from "next/link"
import clientPromise from "@/lib/mongodb"
import { notFound } from "next/navigation";

export default async function Page({ params }) {
    const { handle } = await params
    const client = await clientPromise;
    const db = client.db("linktree")
    const collection = db.collection("links")

    const doc = await collection.findOne({ handle: handle })
    if(!doc){
        return notFound()
    }

    const doc2 = {
        "_id": {
            "$oid": "6953f72c319b7c6b2611dbd8"
        },
        "handle": "AMAN",
        "links": [
            {
                "link": "https://www.youtube.com/",
                "linktext": "youtube"
            },
            {
                "link": "https://github.com/AMAN02SS",
                "linktext": "github"
            }
        ],
        "picture": "https://media.licdn.com/dms/image/v2/D4D35AQHxXv5689TbmA/profile-framedphoto-shrink_200_200/B4DZaQHWamHwAY-/0/1746174568362?e=1767726000&v=beta&t=O0Ve6eopPzxIvp23TGtuP8k5dlIhVFsxWU10jRHU0vc"
    }


    return <div className="flex justify-center items-center min-h-screen h-full w-screen bg-[#b4b4b4]">
        {doc && <div className="min-w-100 w-165 bg-[linear-gradient(-180deg,#BCC5CE_0%,#929EAD_98%),radial-gradient(at_top_left,rgba(255,255,255,0.30)_0%,rgba(0,0,0,0.30)_100%)]
  bg-blend-screen flex flex-col justify-start h-full m-10 rounded-3xl items-center">
            <div className="w-full px-5 py-5 flex justify-between">
                <div><button className=" flex justify-center items-center rounded-full w-10 h-10 bg-white"><svg fill="none" height="18px" width="18px" viewBox="0 0 28 28" className="animation_rotate__SBERF"><path d="m15.7603 6.829 4.6725-4.80317 2.712 2.77734-4.9012 4.67248h6.8944v3.85565h-6.9271l4.9339 4.7922-2.712 2.7229-6.6983-6.731-6.69829 6.731-2.712-2.712 4.93387-4.7923h-6.92703v-3.86645h6.89436l-4.9012-4.67248 2.712-2.77734 4.67249 4.80317v-6.829h4.0516zm-4.0516 12.0243h4.0516v9.1489h-4.0516z" fill="black"></path></svg></button></div>
                <div className="flex gap-2">
                    <button className=" flex justify-center items-center rounded-full w-10 h-10 bg-white"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M221.8,175.94C216.25,166.38,208,139.33,208,104a80,80,0,1,0-160,0c0,35.34-8.26,62.38-13.81,71.94A16,16,0,0,0,48,200H88.81a40,40,0,0,0,78.38,0H208a16,16,0,0,0,13.8-24.06ZM128,216a24,24,0,0,1-22.62-16h45.24A24,24,0,0,1,128,216ZM48,184c7.7-13.24,16-43.92,16-80a64,64,0,1,1,128,0c0,36.05,8.28,66.73,16,80Z"></path></svg></button>
                    <button className=" flex justify-center items-center rounded-full w-10 h-10 bg-white"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="black" viewBox="0 0 256 256"><path d="M216,112v96a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V112A16,16,0,0,1,56,96H80a8,8,0,0,1,0,16H56v96H200V112H176a8,8,0,0,1,0-16h24A16,16,0,0,1,216,112ZM93.66,69.66,120,43.31V136a8,8,0,0,0,16,0V43.31l26.34,26.35a8,8,0,0,0,11.32-11.32l-40-40a8,8,0,0,0-11.32,0l-40,40A8,8,0,0,0,93.66,69.66Z"></path></svg></button>
                </div>
            </div>
            <div className="w-25 h-25 ">
                <img className="flex justify-center items-center bg-white rounded-full my-10" src={doc.picture} alt="" />
            </div>
            <div className="flex flex-col justify-center items-center m-15">
                <h1 className="font-semibold text-2xl gap-1 p-2">
                    @{doc.handle}
                </h1>
                <p className=" w-100 text-cente font-semibold text-xl">{doc.desc}</p>
                
            </div>
            <div className="w-165 flex flex-col gap-4 p-10" >
                {doc.links.map((doc, index) => {
                    return <div key={index} className="bg-white text-lg font-bold h-15 rounded-lg flex justify-center items-center shadow-2xl hover:scale-105">
                        <Link href={doc.link}>
                            {doc.linktext}
                        </Link>

                    </div>
                })}
            </div>
            <div className="flex justify-center gap-5 py-10">
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>Instagram</title><path d="M12 2C9.2912 2 8.94131 2 7.86907 2.05643C7.03985 2.07241 6.21934 2.22888 5.44244 2.51919C4.78781 2.77878 4.23476 3.11738 3.67043 3.68172C3.11738 4.23476 2.76749 4.78781 2.51919 5.45372C2.27088 6.08578 2.10158 6.80813 2.05643 7.88036C2.01129 8.94131 2 9.27991 2 12C2 14.7088 2 15.0474 2.05643 16.1196C2.10158 17.1919 2.28217 17.9255 2.51919 18.5576C2.77878 19.2122 3.11738 19.7652 3.67043 20.3296C4.23476 20.8826 4.78781 21.2325 5.44244 21.4808C6.08578 21.7291 6.80813 21.8984 7.86907 21.9436C8.94131 21.9887 9.27991 22 12 22C14.7088 22 15.0474 22 16.1196 21.9436C17.1806 21.8984 17.9142 21.7178 18.5463 21.4808C19.2137 21.2306 19.8184 20.8377 20.3183 20.3296C20.8826 19.7652 21.2212 19.2009 21.4695 18.5576C21.7178 17.9142 21.8871 17.1919 21.9436 16.1196C21.9887 15.0587 22 14.7201 22 12C22 9.2912 21.9887 8.9526 21.9436 7.88036C21.9225 7.05065 21.7622 6.23037 21.4695 5.45372C21.2189 4.78649 20.8261 4.18182 20.3183 3.68172C19.754 3.11738 19.2122 2.77878 18.5463 2.51919C17.7686 2.23315 16.9482 2.08051 16.1196 2.06772C15.0474 2.01129 14.7088 2 12 2ZM11.0971 3.80587H12C14.6637 3.80587 14.9797 3.80587 16.0406 3.8623C16.6724 3.8686 17.2985 3.98313 17.8916 4.2009C18.3657 4.38149 18.693 4.59594 19.0429 4.94582C19.3928 5.29571 19.6072 5.63431 19.7991 6.09706C19.9345 6.45824 20.0925 6.97743 20.1377 7.95937C20.1828 9.00903 20.1941 9.32506 20.1941 12C20.1941 14.6637 20.1941 14.9797 20.1377 16.0406C20.1314 16.6724 20.0169 17.2985 19.7991 17.8916C19.6185 18.3657 19.3928 18.693 19.0429 19.0429C18.7043 19.3928 18.3657 19.6072 17.8916 19.7878C17.2992 20.0094 16.6731 20.1278 16.0406 20.1377C14.9797 20.1828 14.6637 20.1941 12 20.1941C9.32506 20.1941 9.00903 20.1941 7.95937 20.1377C7.3238 20.1322 6.69388 20.0177 6.09706 19.7991C5.63431 19.6072 5.307 19.3928 4.94582 19.0429C4.60722 18.7043 4.38149 18.3657 4.2009 17.8916C3.98313 17.2985 3.8686 16.6724 3.8623 16.0406C3.80587 14.9797 3.79458 14.6637 3.79458 12C3.79458 9.32506 3.80587 9.00903 3.85102 7.95937C3.85602 7.32375 3.97057 6.69376 4.18962 6.09706C4.38149 5.63431 4.59594 5.307 4.94582 4.94582C5.29571 4.60722 5.62302 4.38149 6.09706 4.2009C6.69376 3.98185 7.32375 3.86731 7.95937 3.8623C8.87359 3.81716 9.23476 3.80587 11.0971 3.79458V3.80587ZM17.3386 5.46501C17.1815 5.46501 17.0259 5.49596 16.8808 5.55608C16.7356 5.6162 16.6037 5.70433 16.4926 5.81542C16.3815 5.92652 16.2934 6.05841 16.2333 6.20356C16.1732 6.34871 16.1422 6.50429 16.1422 6.6614C16.1422 6.81851 16.1732 6.97408 16.2333 7.11924C16.2934 7.26439 16.3815 7.39628 16.4926 7.50737C16.6037 7.61847 16.7356 7.70659 16.8808 7.76672C17.0259 7.82684 17.1815 7.85779 17.3386 7.85779C17.6559 7.85779 17.9602 7.73174 18.1846 7.50737C18.4089 7.28301 18.535 6.9787 18.535 6.6614C18.535 6.3441 18.4089 6.03979 18.1846 5.81542C17.9602 5.59106 17.6559 5.46501 17.3386 5.46501ZM12 6.86456C11.3256 6.86456 10.6578 6.99739 10.0348 7.25547C9.41169 7.51355 8.84556 7.89182 8.36869 8.36869C7.89182 8.84556 7.51355 9.41169 7.25547 10.0348C6.99739 10.6578 6.86456 11.3256 6.86456 12C6.86456 12.6744 6.99739 13.3422 7.25547 13.9652C7.51355 14.5883 7.89182 15.1544 8.36869 15.6313C8.84556 16.1082 9.41169 16.4864 10.0348 16.7445C10.6578 17.0026 11.3256 17.1354 12 17.1354C13.362 17.1354 14.6682 16.5944 15.6313 15.6313C16.5944 14.6682 17.1354 13.362 17.1354 12C17.1354 10.638 16.5944 9.33178 15.6313 8.36869C14.6682 7.40561 13.362 6.86456 12 6.86456ZM12 8.67043C12.4372 8.67043 12.8702 8.75655 13.2742 8.92388C13.6781 9.0912 14.0452 9.33646 14.3544 9.64564C14.6635 9.95482 14.9088 10.3219 15.0761 10.7258C15.2434 11.1298 15.3296 11.5628 15.3296 12C15.3296 12.4372 15.2434 12.8702 15.0761 13.2742C14.9088 13.6781 14.6635 14.0452 14.3544 14.3544C14.0452 14.6635 13.6781 14.9088 13.2742 15.0761C12.8702 15.2434 12.4372 15.3296 12 15.3296C11.1169 15.3296 10.2701 14.9788 9.64564 14.3544C9.02122 13.7299 8.67043 12.8831 8.67043 12C8.67043 11.1169 9.02122 10.2701 9.64564 9.64564C10.2701 9.02122 11.1169 8.67043 12 8.67043Z"></path></svg>
                </Link>
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>TikTok</title><path d="M15.9453 8.68918V15.6727C15.9453 19.1598 13.1048 22.0004 9.6177 22.0004C8.27369 22.0004 7.01685 21.5717 5.99251 20.8525C4.35796 19.7047 3.29004 17.8085 3.29004 15.6727C3.29004 12.1783 6.12333 9.34505 9.6104 9.34505C9.90101 9.34505 10.1843 9.36685 10.4676 9.40318V12.9121H10.4386C10.3151 12.8758 10.1843 12.8394 10.0536 12.8177H9.9954C9.86466 12.8032 9.74114 12.7813 9.60309 12.7813C8.00491 12.7813 6.70448 14.0817 6.70448 15.6799C6.70448 17.2782 8.00491 18.5786 9.60309 18.5786C11.2014 18.5786 12.5018 17.2782 12.5018 15.6799V2.00037H15.938C15.938 2.29822 15.9671 2.58881 16.0179 2.87213C16.2649 4.1798 17.035 5.30584 18.1175 6.01053C18.873 6.50452 19.7593 6.78785 20.7182 6.78785V10.2241C18.9416 10.2241 17.288 9.65222 15.9453 8.68918Z"></path></svg>
                </Link>
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>X</title><path d="M17.8048 2.96973H20.8705L14.1394 10.6338L22.0034 21.0304H15.8321L11.0004 14.7125L5.46893 21.0304H2.40328L9.53424 12.8331L2.00342 2.96973H8.32798L12.6932 8.74114L17.8048 2.96973ZM16.7318 19.231H18.4313L7.43494 4.70248H5.60888L16.7318 19.231Z"></path></svg>
                </Link>
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>Pinterest</title><path d="M1 12C1 16.6961 3.94342 20.7056 8.08586 22.2832C7.985 21.4243 7.8778 20.008 8.1088 19.0143C8.30764 18.16 9.393 13.5712 9.393 13.5712C9.393 13.5712 9.0658 12.9157 9.0658 11.945C9.0658 10.4233 9.94757 9.28667 11.0467 9.28667C11.9817 9.28667 12.4327 9.98794 12.4327 10.8285C12.4327 11.7681 11.8341 13.1724 11.5252 14.475C11.2676 15.5649 12.0724 16.4541 13.1468 16.4541C15.0928 16.4541 16.5898 14.4017 16.5898 11.439C16.5898 8.81642 14.7051 6.984 12.0147 6.984C8.89986 6.984 7.07107 9.32058 7.07107 11.736C7.07107 12.6774 7.43314 13.6858 7.886 14.2348C7.92458 14.2764 7.95192 14.3271 7.9652 14.3821C7.97857 14.4371 7.97747 14.4947 7.96206 14.5493C7.87864 14.8958 7.6935 15.6392 7.6578 15.7913C7.60914 15.9912 7.49914 16.0343 7.29107 15.9371C5.92343 15.3009 5.06908 13.3017 5.06908 11.6957C5.06908 8.24075 7.578 5.06908 12.3034 5.06908C16.1021 5.06908 19.0547 7.776 19.0547 11.3932C19.0547 15.1671 16.6759 18.2049 13.3722 18.2049C12.2622 18.2049 11.2199 17.6274 10.8624 16.9463C10.8624 16.9463 10.3133 19.0382 10.1804 19.5497C9.92194 20.5433 9.20506 21.801 8.7605 22.5151C9.78536 22.8304 10.8725 23 12 23C18.0748 23 23 18.0748 23 12C23 5.92525 18.0748 1 12 1C5.9252 1 1 5.92525 1 12Z"></path></svg>
                </Link>
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>YouTube</title><path fillRule="evenodd" clipRule="evenodd" d="M19.8142 5.41679C20.6763 5.64906 21.3541 6.32675 21.5832 7.18581C22 8.74483 22 11.9997 22 11.9997C22 11.9997 22 15.2545 21.5832 16.8136C21.3509 17.6757 20.6733 18.3535 19.8142 18.5825C18.2551 18.9993 12 18.9993 12 18.9993C12 18.9993 5.74801 18.9993 4.18581 18.5825C3.32358 18.3502 2.64588 17.6726 2.4168 16.8136C2 15.2545 2 11.9997 2 11.9997C2 11.9997 2 8.74483 2.4168 7.18581C2.64907 6.32358 3.32676 5.64588 4.18581 5.41679C5.74801 5 12 5 12 5C12 5 18.2551 5 19.8142 5.41679ZM15.1961 11.9992L10.0004 14.9994V8.99883L15.1961 11.9992Z"></path></svg>
                </Link>
                <Link href={"/"}>
                    <svg fill="currentColor" width="32" height="32" viewBox="0 0 24 24" className="hover:scale-150 text-profileTitleText"><title>Facebook</title><path d="M23 12C23 5.92487 18.0751 0.999996 12 0.999996C5.92488 0.999996 1 5.92487 1 12C1 17.1588 4.55146 21.4874 9.34266 22.6761V15.3614H7.07438V12H9.34266V10.5516C9.34266 6.80751 11.037 5.07215 14.7128 5.07215C15.4096 5.07215 16.6121 5.20877 17.104 5.34544V8.39261C16.8444 8.36529 16.3935 8.3516 15.8332 8.3516C14.0295 8.3516 13.3326 9.03484 13.3326 10.8112V12H16.9256L16.3084 15.3614H13.3326V22.9194C18.7792 22.2616 23 17.624 23 12Z"></path></svg>
                </Link>
            </div>
            <div>
                <button className="hover:scale-105 bg-white rounded-full px-8 py-3 my-5 text-lg font-semibold">Join <span className="underline">@{`${handle}`}</span> on Linktree</button>
            </div>
            <div className="flex justify-center items-center gap-2 leading-tight my-5">
                <p>Cookie Preferences</p>
                <span className="flex items-center">.</span>
                <p>Report</p>
                <span>.</span>
                <p>Privacy</p>
            </div>


        </div>}



    </div>
}
